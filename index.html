<!DOCTYPE html>
<html data-ng-app="socialGroupApp">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="initial-scale=1, minimum-scale=1,maximum-scale=1, user-scalable=0, height=device-height, width=device-width" />
        <title>פועלים למען ישראל</title>
    
    </head>
    <body onload="onLoad()">

        <!-- facebook sdk  -->
        <div id="fb-root"></div>
        <script>
            (function(d, s, id) {
                      var js, fjs = d.getElementsByTagName(s)[0];
                      if (d.getElementById(id)) return;
                      js = d.createElement(s); js.id = id;
                      js.src = "https://connect.facebook.net/he_IL/sdk.js#xfbml=1&appId=367438426653349&version=v2.0";
                      fjs.parentNode.insertBefore(js, fjs);
                    }(document, 'script', 'facebook-jssdk'));
        </script>

        <!-- facebook sdk end -->
        <div class="app">


            <div data-ng-controller="headerCtrl" class="popups-mask" data-ng-show="showMask()"></div>

            <!-- Header -->
            <ng-include src="'./components/header/header.html'"></ng-include>

            <!-- Login popup -->
            <ng-include src="'./components/user/login.html'"></ng-include>

            <!-- Signin popup -->
            <ng-include src="'./components/user/signin.html'"></ng-include>

            <!-- Thank you popup -->
            <ng-include src="'./components/thankYouPage/thankYouPage.html'"></ng-include>

            <!-- Error popup -->
            <ng-include src="'./components/errorPopup/errorPopup.html'"></ng-include>

            <!-- Main view -->
            <div class="app-body">
                <!--<div class="loader-zone" data-ng-show="true">-->
                <div class="general-loader fa fa-spinner fa-spin" data-ng-controller="headerCtrl" data-ng-show="showLoader"></div>
                <!--</div>-->
                <div class="main-view" data-ui-view="main"></div>
            </div>
        </div>

        <!-- Header Sidebars -->
        <div class="sidebar sidebar-left" data-toggleable data-parent-active-class="sidebar-left-in" id="mainSidebar" data-ng-controller="headerCtrl" data-ng-include="'./components/header/sidebar.html'"></div>


        <!--css-->

        <link rel="stylesheet" href="./css/mobile-angular-ui-base.min.css">
        <link rel="stylesheet" href="./css/mobile-angular-ui-desktop.min.css">
        <link rel="stylesheet" href="./css/bootstrapModifications.css">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

        <link rel="stylesheet" type="text/css" href="./css/reset.css" />
        <link rel="stylesheet" type="text/css" href="./css/style.css" />
        <link rel="stylesheet" type="text/css" href="./css/ng-quick-date.css" />
        <link rel="stylesheet" type="text/css" href="./css/ng-quick-date-plus-default-theme.css" />
        <link rel="stylesheet" type="text/css" href="./components/header/header.css" />
        <link rel="stylesheet" type="text/css" href="./components/user/userProfile.css" />
        <link rel="stylesheet" type="text/css" href="./components/user/signin.css" />
        <link rel="stylesheet" type="text/css" href="./components/facebook/facebook.css" />
        <link rel="stylesheet" type="text/css" href="./components/thankYouPage/thankYouPage.css" />
        <link rel="stylesheet" type="text/css" href="./components/mainMenu/mainMenu.css" />
        <link rel="stylesheet" type="text/css" href="cmsCtrl/adminCtrl.css" />

        <link rel="stylesheet" type="text/css" href="css/jquery.Jcrop.min.css">

        <!--scripts-->

        <!--phone gap and plugins-->
        <script src="cordova.js"></script>
        <script type="text/javascript" src="js/SocialSharing.js"></script>
        <!--phone gap and plugins-->

        <script type="text/javascript" src="https://www.google.com/jsapi"></script>
        <script src="./js/vendor/jsapi.js"></script>
        <script src="./js/vendor/angular.min.js"></script>
        <script src="./js/vendor/angular-ui-bootstrap.js"></script>
        <script src="./js/vendor/angular-ui-router.min.js"></script>
        <script src="./js/vendor/mobile-angular-ui.min.js"></script>
        <script src="./js/vendor/ng-quick-date.js"></script>

        <script src="./js/vendor/angular-ui-bootstrap.js"></script>
        <script src="./js/vendor/angular-file-upload-shim.min.js"></script>
        <script src="./js/vendor/angular-file-upload.min.js"></script>

        <script src="js/jquery.2.min.js"></script>
        <script src="js/jquery.Jcrop.min.js"></script>

        <script src="js/initPushwoosh.js"></script>
        
        <script src="socialGroupApp.js"></script>
        <script>
            function handleOpenURL(url) {
                //alert('handleOpenURL');
                setTimeout(function () {
                    page = url.replace('bennet://', '');
                    window.location.replace(window.location.pathname + '#/' + page);
                }, 0);

            }
        </script>

        <script src="js/dictionary.js"></script>
        <script src="./services/generalParameters.js"></script>
        <script src="./services/postService.js"></script>
        <script src="./services/croping.js"></script>
        <script src="./services/facebookLogin.js"></script>
        <script src="./services/googleLogin.js" type="text/javascript"></script>

        <script src="./components/header/header.js"></script>
        <script src="./components/mainMenu/mainMenu.js"></script>
        <script src="./components/user/userProfile.js"></script>
        <script src="./components/user/signin.js"></script>
        <script src="./components/user/login.js"></script>
        <script src="./components/talkback/talkback.js"></script>
        <script src="./components/thankYouPage/thankYouPage.js"></script>
        <script src="./components/errorPopup/errorPopup.js"></script>
        <script src="components/comments/comments.js"></script>
        <script src="components/channel/channel.js"></script>
        <script src="components/authorPage/authorPage.js"></script>
        <script src="components/meme/meme.js"></script>
        <script src="components/meme/write-meme.js"></script>
        <script src="components/meme/previewPublishMeme.js"></script>
        <script src="components/meme/singleMeme.js"></script>
        <script src="components/article/article.js"></script>
        <script src="components/article/single-article.js"></script>
        <script src="components/contact/contact.js"></script>
        <script src="components/facebook/facebook.js"></script>
        <script src="components/poll/poll.js"></script>
        <script src="components/poll/pollView.js"></script>
        <script src="components/writePost/writePost.js"></script>
        <script src="components/event/event.js"></script>
        <script src="components/event/single-event.js"></script>

        <script src="cmsCtrl/adminCtrl.js"></script>

        <script src="plugins/html2canvas.js"></script>

        <!--phonegap on ready scripts- can be moved to app.run()-->
        <script type="text/javascript" charset="utf-8">
            // Wait for device API libraries to load
            function onLoad() {
                document.addEventListener("deviceready", onDeviceReady, false);
            }
            
            // device APIs are available
            function onDeviceReady() {
                // Now safe to use device APIs
                //splash
                navigator.splashscreen.hide();
                //exit button
                document.addEventListener("backbutton", function () { 
                if (window.location.hash == '#/main-menu') {
                    exitAppPopup();
                } 
                else {
                    history.back();
                }}, false);
            }
            
            function exitAppPopup() {
                navigator.notification.confirm(
                  'האם ברצונך לצאת מהאפליקציה?',
                 function (button) {
                     if (button == 2) {
                         navigator.app.exitApp();
                     }
                     else {
                         exitFlag = false;
                     }
                 },
                 'יציאה',
                 ['בטל', 'יציאה']
            );
                return false;
            }  
            
            
            var agent = navigator.userAgent;
            var isWebkit = (agent.indexOf("AppleWebKit") > 0);
            var isIPad = (agent.indexOf("iPad") > 0);
            var isIOS = (agent.indexOf("iPhone") > 0 || agent.indexOf("iPod") > 0);
            var isAndroid = (agent.indexOf("Android") > 0);
            var isNewBlackBerry = (agent.indexOf("AppleWebKit") > 0 && agent.indexOf("BlackBerry") > 0);
            var isWebOS = (agent.indexOf("webOS") > 0);
            var isWindowsMobile = (agent.indexOf("IEMobile") > 0);
            var isSmallScreen = (screen.width < 767 || (isAndroid && screen.width < 1000));
            var isUnknownMobile = (isWebkit && isSmallScreen);
            var isMobile = (isIOS || isAndroid || isNewBlackBerry || isWebOS || isWindowsMobile || isUnknownMobile);
            var isTablet = (isIPad || (isMobile && !isSmallScreen));  
        </script>

    </body>
</html>