<link rel="stylesheet" type="text/css" href="css/jquery.Jcrop.min.css">
<link rel="stylesheet" type="text/css" href="./components/meme/meme.css" />
<link rel="stylesheet" type="text/css" href="./components/event/event.css" />
<link rel="stylesheet" media="screen and (min-width: 900px)" type="text/css" href="../../../components/meme/meme.css" />
<link rel="stylesheet" media="screen and (min-width: 900px)" type="text/css" href="../../../components/event/event.css" />

<section id="user-profile">
    <div class="user-profile-avatar-zone">
        <div class="user-profile-avatar-wrapper">
            <div class="color-circle">
                <div class="user-profile-avatar" style="background-image: url({{profile().userImg}})">
                    <input type="file" id="userImg1" data-ng-show="myProfile">
                </div>
            </div>
            <div class="user-profile-rank">
                <div class="user-profile-rank-image" data-ng-class="{'rank-image-0': profile().point.level == 0, 'rank-image-1': profile().point.level == 1, 'rank-image-2': profile().point.level == 2, 'rank-image-3': profile().point.level == 3, 'rank-image-4': profile().point.level == 4}"></div>
                <div class="user-profile-rank-text" data-ng-class="{'rank-text-0': profile().point.level == 0, 'rank-text-1': profile().point.level == 1, 'rank-text-2': profile().point.level == 2, 'rank-text-3': profile().point.level == 3, 'rank-text-4': profile().point.level == 4}">{{profile().rank}}</div>
            </div>
        </div>
    </div>
    <div class="color-line color-fixed-top"></div>
    <div class="user-profile-items">
        <div class="user-profile-name user-profile-item">
            <div class="user-edit-icon" data-ng-hide="editName || !myProfile" data-ng-click="editItem('name')"></div>
            <div data-ng-hide="editName">{{profile().firstName}} {{profile().lastName}}</div>
            <div class="user-edit-icon-v" data-ng-show="editName" data-ng-click="updateUserDetails('name')"></div>
            <input type="text" data-ng-model="editProfile.firstName" data-ng-show="editName" value="{{ profile().firstName }}">
            <input type="text" data-ng-model="editProfile.lastName" data-ng-show="editName" value="{{ profile().lastName }}">
            <div class="user-edit-icon-x" data-ng-show="editName" data-ng-click="editItem('name')"></div>
        </div>
        <div class="user-profile-registration-date user-profile-item">
            <div placeholder="כתובת">תאריך הרשמה: {{profile().registrationDate| date : 'dd.MM.yyyy'}}</div>
        </div>
        <div class="user-profile-scoring user-profile-item">
            <div class="user-giving-score" data-ng-hide="myProfile" data-ng-click="givingScore()"></div>
            <div placeholder="כתובת">ניקוד מצטבר: {{profile().point.count+0}}</div>
        </div>
        <div class="user-profile-gender user-profile-item" data-ng-show="myProfile">
            <div class="user-edit-icon" data-ng-hide="editGender" data-ng-click="editItem('gender')"></div>
            <div data-ng-hide="editGender" placeholder="כתובת">{{profile().gender}}</div>
            <div class="user-edit-icon-v" data-ng-show="editGender" data-ng-click="updateUserDetails('gender')"></div>
            <!--<input type="text" data-ng-model="profile().gender" data-ng-show="editGender" value="{{profile().gender}}">-->
            <select data-ng-show="editGender" data-ng-model="editProfile.gender">
                <option value="נקבה">נקבה</option>
                <option value="זכר">זכר</option>
            </select>
            <div class="user-edit-icon-x" data-ng-show="editGender" data-ng-click="editItem('gender')"></div>
        </div>
        <div class="user-profile-address user-profile-item" data-ng-show="myProfile">
            <div class="user-edit-icon" data-ng-hide="editAddress" data-ng-click="editItem('address')"></div>
            <div data-ng-hide="editAddress" placeholder="כתובת">{{profile().address}}</div>
            <div class="user-edit-icon-v" data-ng-show="editAddress" data-ng-click="updateUserDetails('address')"></div>
            <input type="text" data-ng-model="editProfile.address" data-ng-show="editAddress" value="{{profile().address}}">
            <div class="user-edit-icon-x" data-ng-show="editAddress" data-ng-click="editItem('address')"></div>
        </div>
        <div class="user-profile-mail user-profile-item" data-ng-show="myProfile">
            <!--<div class="user-edit-icon" data-ng-hide="editEmail" data-ng-click="editItem('email')"></div>-->
            <div data-ng-hide="editEmail">{{profile().email}}</div>
                            <!--<div class="user-edit-icon-v" data-ng-show="editEmail"></div>
                                                                                                                            <input type="text" data-ng-model="profile().email" data-ng-show="editEmail" value="{{profile().email}}">
                                                                                                                            <div class="user-edit-icon-x" data-ng-show="editEmail" data-ng-click="editItem('email')"></div>-->
        </div>
        <div class="user-profile-phone user-profile-item" data-ng-show="myProfile">
            <div class="user-edit-icon" data-ng-hide="editPhone" data-ng-click="editItem('phone')"></div>
            <div data-ng-hide="editPhone">{{profile().phone}}</div>
            <div class="user-edit-icon-v" data-ng-show="editPhone" data-ng-click="updateUserDetails('phone')"></div>
            <input type="text" data-ng-model="editProfile.phone" data-ng-show="editPhone" value="{{profile().phone}}">
            <div class="user-edit-icon-x" data-ng-show="editPhone" data-ng-click="editItem('phone')"></div>
        </div>

        <div class="user-profile-other-user-zone">
            <div class="user-profile-other-user-wrapper">
                <div class="user-profile-other-user-activity">
                    <figure class="author-image">
                        <div class="author-background-image" style="background-image:url('{{post._author.data.img.RelativePosition? domain+post._author.data.img.url : post._author.data.img.url}}')"></div>
                        <div class="author-rank-image-zone">
                            <div class="author-rank-image"></div>
                        </div>
                    </figure>
                    <div class="user-profile-other-user-symbol"></div>
                    <span class="author-name" data-author="{{post._author}}">ישראל ישראלי</span>
                    <div class="user-profile-other-user-content">dfjk gjikldf iokrgj klrfdjig klklfdgj kiopf gjklf iorgiojkg ilkjdfio riofgjiofdjkfi jifio djdfio iojhiofgvujdfliuo cb</div>
                </div>
                                    <div class="user-profile-other-user-activity">
                                    <figure class="author-image">
                                        <div class="author-background-image" style="background-image:url('{{post._author.data.img.RelativePosition? domain+post._author.data.img.url : post._author.data.img.url}}')"></div>
                                        <div class="author-rank-image-zone">
                                            <div class="author-rank-image"></div>
                                        </div>
                                    </figure>
                                    <div class="user-profile-other-user-symbol"></div>
                                    <span class="author-name" data-author="{{post._author}}">ישראל ישראלי</span>
                                    <div class="user-profile-other-user-content">dfjk gjikldf iokrgj klrfdjig klklfdgj kiopf gjklf iorgiojkg ilkjdfio riofgjiofdjkfi jifio djdfio iojhiofgvujdfliuo cb</div>
                                </div>
                                <div class="user-profile-other-user-activity">
                                    <figure class="author-image">
                                        <div class="author-background-image" style="background-image:url('{{post._author.data.img.RelativePosition? domain+post._author.data.img.url : post._author.data.img.url}}')"></div>
                                        <div class="author-rank-image-zone">
                                            <div class="author-rank-image"></div>
                                        </div>
                                    </figure>
                                    <div class="user-profile-other-user-symbol"></div>
                                    <span class="author-name" data-author="{{post._author}}">ישראל ישראלי</span>
                                    <div class="user-profile-other-user-content">dfjk gjikldf iokrgj klrfdjig klklfdgj kiopf gjklf iorgiojkg ilkjdfio riofgjiofdjkfi jifio djdfio iojhiofgvujdfliuo cb</div>
                                </div>
            </div>
        </div>

        <div class="color-line color-fixed-top"></div>


        <div class="user-recent-activity-title">הפעולות האחרונות</div>
        <div class="user-recent-activity-zone">
            <div data-ng-repeat="feature in featuresList track by $index">
                <div class="user-recent-activity" data-ng-click="openRecentActivity(feature.postType)">
                    <div class="user-recent-activity-logo" style="background-image: url({{feature.featureLogo}})"></div>
                    <div class="user-recent-activity-arrow" data-ng-class="{'user-recent-activity-arrow-up': currentPost == feature.postType}"></div>
                    {{feature.featureName}}
                </div>
                <post data-ng-repeat="post in posts()" data-post-type="{{post.postType}}" data-ng-show="currentPost == feature.postType"></post>
                <div class="spiner-zone" data-ng-show="currentPost == feature.postType && showSpiner()">
                    <div class="loader fa fa-spinner fa-spin"></div>
                </div>
                <div class="user-recent-activity-title" data-ng-class="{'none-activity': true}" data-ng-show="currentPost == feature.postType && !showSpiner() && posts().length == 0">אין למשתמש פעילות באזור זה</div>
            </div>
        </div>
        <div class="user-profile-item" data-ng-show="myProfile">
            <input type="button" class="user-profile-logout-btn" data-ng-click="userLogout()" value="התנתק">
        </div>
    </div>

    <!-- edit img popup -->
    <div data-ng-show="editImg" class="editImg">
        <div class="sign-in-close-zone">
            <div class="close-sign-in close" data-ng-click="editCancel()"></div>
        </div>
        <div id="instruction-for-image">הזז, הגדל והקטן למיקוד התמונה</div>
        <div id="cropDiv1">
            <img data-ng-src="{{userimg}}">
        </div>
        <div class="button-side-img">
            <button id="button_ok1" class="cat-Approve background-button-img">אשר</button>
        </div>
        <div class="button-side-img">
            <button id="button_cancel1" class="cat-cancel background-button-img" data-ng-click="editCancel()">בטל</button>
        </div>
        <canvas id="c1"></canvas>
        <div class="color-line color-line-button"></div>

    </div>
</section>